┌──────────────────────────────────────────────────────────────────────────┐
│                              Web UIs                                     │
│  ┌─────────────────────┐              ┌─────────────────────┐            │
│  │                     │              │        │            │            |
│  │   (Agent Dashboard) │              │   (Worker Manager)  │            │
│  └────────┬────────────┘              └────────┬────────────┘            │
│           │ WS /sessions/{id}/chat             │ HTTP /api/*             │
└───────────┼────────────────────────────────────┼────────────────────────-┘
            ▼                                    ▼
┌──────────────────────────────────────┐  ┌──────────────────────────┐
│         server.py                    │  │  worker_manager.py       │
│                                      │  └──────────┬───────────────┘
│  ┌────────────────────────────────┐  │             │ spawns
│  │  Hub (hub.py)                  │  │             │
│  │  ──────────                    │  │             │
│  │  • Worker registry             │  │             ▼
│  │  • Tool schema aggregation     │  │  ┌──────────────────────────┐
│  │  • Session → worker affinity   │◄─┼──┤  worker.py (N)           │
│  │  • Round-robin dispatch        │  │  │  ──────────              │
│  └────────────┬───────────────────┘  │  |                          |
│  ┌────────────▼───────────────────┐  │  |                          │
│  │  Conversation (conversation.py)│  │  |  Built-in tools:         │
│  │  ──────────────────────────────│  │  |                          │
│  │  • Tool registration           │──┼──┤  • Returns "tool_result" │
│  │  • Claude API calls            │  │  │                          │
│  └────────────┬───────────────────┘  │  │  • list_directory        │
│               │                      │  │  • run_command           │
│  ┌────────────▼───────────────────┐  │  └──────────────────────────┘
│  │  SessionStore (sessions.py)    │  │
│  │  ──────────────────────────────│  │           
│  └────────────────────────────────┘  │
└──────────────────────────────────────┘
            │
            ▼
   ┌─────────────────┐
   │  Anthropic API   │
   │  (Claude LLM)    │
   └─────────────────┘